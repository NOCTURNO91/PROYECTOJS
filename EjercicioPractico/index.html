<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingreso de Usuario</title>
    <link rel="stylesheet" href="style.css">
</head>
<body onload="comenzarCuentaRegresiva">
    <h2>Responda lo mas rapido posible que pueda <span id="cuentaRegresiva"></span></h2>

        <p>1- cual es la capital de Colombia?</p>
        <input type="text" id="respuesta1">
        <p>2- cuantos lados tiene un pentagono?</p>
        <input type="text" id="respuesta2">
        <p>3- simbolo quimico del agua?</p>
        <input type="text" id="respuesta3">
        <p>4- cuantos integran la banda beatles?</p>
        <input type="text" id="respuesta4">
        <p>4- (7*5) + 15?</p>
        <input type="text" id="respuesta5">
        <br><br>
        <button onclick="finalizado()">Termine!</button>
        <br><br>
        <button onclick="volverAIntentar()">Volver a intentar</button>

        <audio id="audioFinal">
            <source src="Audio/GameOver.mp3" type="audio/mpeg">
            sonido no habilitado
        </audio>

        <script>
            let tiempoTerminado;
            let intervaloDeTiempo;

            function comenzarCuentaRegresiva(){
                tiempoTerminado = setTimeout(tiempoCumplido, 10000);
                intervaloDeTiempo = setInterval(ticTac, 1000);

                document.getElementById("cuentaRegresiva").textContent = 10;
            }
            comenzarCuentaRegresiva()

            function ticTac(){
                let tiempo = document.getElementById("cuentaRegresiva").textContent;

                document.getElementById("cuentaRegresiva").textContent = tiempo - 1;
            }

            function tiempoCumplido(){
                clearInterval(intervaloDeTiempo);
                document.getElementById("cuentaRegresiva").textContent = 0;
                document.getElementById("audioFinal").play();
                alert("GAME OVER: se termino el tiempo. Intenta de nuevo");
            }

            function finalizado(){
                clearTimeout(tiempoTerminado);
                clearInterval(intervaloDeTiempo);

                let fecha = new Date();
                let respuesta1 = document.getElementById("respuesta1").value;
                let respuesta2 = document.getElementById("respuesta2").value;
                let respuesta3 = document.getElementById("respuesta3").value;
                let respuesta4 = document.getElementById("respuesta4").value;
                let respuesta5 = document.getElementById("respuesta5").value;

                let mensaje = fecha.toLocaleDateString("es-Es") + "\n" + 
                                "1." + respuesta1 + "\n" +
                                "2." + respuesta2 + "\n" +
                                "3." + respuesta3 + "\n" +
                                "4." + respuesta4 + "\n" +
                                "5." + respuesta5;
                alert(mensaje);                
            }

            function volverAIntentar(){
                location.reload();
            }
        </script>
</body>
</html>